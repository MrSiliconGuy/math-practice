(this["webpackJsonpmath-practice"]=this["webpackJsonpmath-practice"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(10),r=n.n(i),o=n(1),l=n(2),u=n(4),c=n(3),m=n(5),h=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleExit",value:function(){var e=!0;null!==this.props.exitPrompt&&(e=window.confirm(this.props.exitPrompt)),e&&this.props.onExit()}},{key:"render",value:function(){var e=this.props.title,t=this.props.children,n=this.props.showExit;return s.a.createElement("div",{className:"AppContainer"},s.a.createElement("div",{className:"AppContainer-topbar"},s.a.createElement("span",null,e),n?s.a.createElement("button",{onClick:this.handleExit.bind(this)},"\xd7"):null),s.a.createElement("div",{className:"AppContainer-container"},t))}}]),t}(s.a.Component),d=n(6),p=n.n(d),f={random:function(){return Math.random()},randInt:function(e,t){return void 0===t&&(t=e,e=0),Math.floor(f.random()*(t-e))+e},randChoice:function(e){return e[f.randInt(0,e.length)]},range:function(e,t){return p.a.range(e,t+1)},clone:function(e){return p.a.cloneDeep(e)},shuffle:function(e){e=e.slice();for(var t=0;t<e.length;t++){var n=f.randInt(0,e.length),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},extend:function(e,t){return p.a.extend(e,t)},plural:function(e,t){return e+" "+t+(1===e?"":"s")},formatSeconds:function(e){return Math.round(e/100)/10+"s"},formatDate:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime();return new Date(e).toISOString()}},v=["add","sub","mul","div"],g=["add","sub","mul","div","mix","sqr"],S={add:"+",sub:"-",mul:"*",div:"/"},y={add:"Addition",sub:"Subtraction",mul:"Multiplication",div:"Division",mix:"Mixed",sqr:"Squares"},E={min:1,max:12},b={generateQuestion:function(e,t,n){if("add"===n)return{num1:e,num2:t,oper:n,ans:e+t};if("sub"===n)return{num1:e+t,num2:t,oper:n,ans:e};if("mul"===n)return{num1:e,num2:t,oper:n,ans:e*t};if("div"===n)return{num1:e*t,num2:t,oper:n,ans:e};throw Error()},generateQuestionsRandom:function(e,t,n){for(var a,s,i,r=[],o=0;o<n;o++){"mix"===e?(i=f.randChoice(v),a=f.randChoice(t),s=f.randChoice(t)):"sqr"===e?(i="mul",s=a=f.randChoice(t)):(i=e,a=f.randChoice(t),s=f.randChoice(t));var l=b.generateQuestion(a,s,i);r.push(l)}return r},generateQuestionsOrdered:function(e,t){for(var n,a,s,i=[],r=0;r<t.length;r++)for(var o=0;o<t.length;o++){if("mix"===e)s=f.randChoice(v),n=t[r],a=t[o];else if("sqr"===e){if(s="mul",(n=t[r])!==(a=t[o]))continue}else s=e,n=t[r],a=t[o];var l=b.generateQuestion(n,a,s);i.push(l)}return i},generateSession:function(e){var t,n=e.type,a=[],s=e.isDefault;return t=e.useRange?f.range(e.range.min,e.range.max):f.clone(e.pool),"random"===e.order?a=b.generateQuestionsRandom(n,t,e.numQuestions):"all"===e.order?a=b.generateQuestionsOrdered(n,t):"all-shuffle"===e.order&&(a=b.generateQuestionsOrdered(n,t),a=f.shuffle(a)),{timeStarted:0,type:n,questions:a,times:[],progress:0,total:a.length,isDefault:s}},generateDefaultSessionOptions:function(e){return{type:e,useRange:!0,range:f.clone(E),order:"all-shuffle",isDefault:!0}},generateSessionResults:function(e){var t=e.timeStarted,n=e.type,a=e.times.reduce((function(e,t){return e+t}),0),s=b.generateSessionIndividualResults(e);return{date:t,type:n,totalTime:a,numQuestions:e.total,individual:s}},generateSessionIndividualResults:function(e){if(e.isDefault&&v.includes(e.type)){for(var t=e.type,n=f.clone(E),a=[],s=n.min;s<=n.max;s++){for(var i=[],r=n.min;r<=n.max;r++)i.push(0);a.push(i)}for(var o=0;o<e.questions.length;o++){var l=e.questions[o],u=e.times[o],c=void 0,m=void 0;["sub","div"].includes(l.oper)?(c=l.ans,m=l.num2):(c=l.num1,m=l.num2);var h=c-n.min,d=m-n.min;a[h][d]=u}return{oper:t,range:n,times:a}}},startSession:function(e){return e.timeStarted=(new Date).getTime(),e}},k=(n(19),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={sessionType:"add"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleStartClick",value:function(){this.props.onStartPractice(this.state.sessionType)}},{key:"handleNavigate",value:function(e){"select"===e?this.props.onNavigateSelectSession():"stats"===e?this.props.onNavigateStats():this.props.onNavigateSettings()}},{key:"handleSelectType",value:function(e){var t=e.target.value;this.setState({sessionType:t})}},{key:"render",value:function(){var e=this,t=this.state.sessionType;return s.a.createElement("div",{className:"Home"},s.a.createElement("button",{className:"Home-start",onClick:this.handleStartClick.bind(this)},"Start Practice"),s.a.createElement("select",{className:"Home-start-type",value:t,onChange:this.handleSelectType.bind(this)},g.map((function(e){return s.a.createElement("option",{value:e,key:e},y[e])}))),s.a.createElement("span",{className:"link",onClick:function(){return e.handleNavigate("select")}},"Custom Session"),s.a.createElement("span",{className:"link",onClick:function(){return e.handleNavigate("stats")}},"User Stats"),s.a.createElement("span",{className:"link",onClick:function(){return e.handleNavigate("settings")}},"Settings"))}}]),t}(s.a.Component)),w=(n(20),["range","pool"]),N={range:"Range",pool:"Pool"},T=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={rangeType:"range",range:{min:1,max:12},pool:f.range(1,12),type:"add",shuffle:!0,random:!1,numberQuestions:20},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleStartSession",value:function(){this.props.onStartSession({type:this.state.type,useRange:"range"===this.state.rangeType,range:this.state.range,pool:this.state.pool,order:this.state.random?"random":this.state.shuffle?"all-shuffle":"all",numQuestions:this.state.numberQuestions,isDefault:!1})}},{key:"handleStartSessionTemplate",value:function(e){var t=this.props.sessionTemplates[e];this.props.onStartSession(t.options)}},{key:"handleSaveTemplate",value:function(){var e={type:this.state.type,useRange:"range"===this.state.rangeType,range:this.state.range,pool:this.state.pool,order:this.state.random?"random":this.state.shuffle?"all-shuffle":"all",numQuestions:this.state.numberQuestions,isDefault:!1},t=window.prompt("Please enter a name for your session:");null!==t&&this.props.onAddSessionTemplate({options:e,name:t})}},{key:"handleRemoveTemplate",value:function(e){this.props.onRemoveSessionTemplate(e)}},{key:"handleSelectRangeType",value:function(e){var t=e.target.value;this.setState({rangeType:t})}},{key:"handleInputRangeAmount",value:function(e,t){var n=parseInt(e.target.value,10),a=f.clone(this.state.range);t?a.min=n:a.max=n,this.setState({range:a})}},{key:"handleValidateRangeAmount",value:function(e,t){var n=parseInt(e.target.value,10);Number.isNaN(n)&&(n=NaN),n=Math.min(Math.max(n,1),1e3);var a=f.clone(this.state.range);t?(a.min=n,a.max<a.min&&(a.max=a.min)):(a.max=n,a.min>a.max&&(a.min=a.max)),this.setState({range:a})}},{key:"handleToggleRangePool",value:function(e){var t=this.state.pool,n=t.indexOf(e);-1===n?t.push(e):t.splice(n,1),this.setState({pool:t})}},{key:"handleSelectType",value:function(e){var t=e.target.value;this.setState({type:t})}},{key:"handleToggleShuffle",value:function(){this.setState({shuffle:!this.state.shuffle})}},{key:"handleToggleRandom",value:function(){this.setState({random:!this.state.random})}},{key:"handleSelectNumberQuestions",value:function(e){this.setState({numberQuestions:e})}},{key:"render",value:function(){var e,t,n=this,a=this.props.sessionTemplates,i=this.state.rangeType,r=this.state.range,o=this.state.pool,l=this.state.type,u=this.state.random,c=this.state.shuffle,m=this.state.numberQuestions;return"range"===i?e=s.a.createElement("div",{className:"Select-range-range"},s.a.createElement("input",{type:"number",pattern:"[0-9]*",value:Number.isNaN(r.min)?"":r.min,onChange:function(e){return n.handleInputRangeAmount(e,!0)},onBlur:function(e){return n.handleValidateRangeAmount(e,!0)}}),s.a.createElement("input",{type:"number",pattern:"[0-9]*",value:Number.isNaN(r.max)?"":r.max,onChange:function(e){return n.handleInputRangeAmount(e,!1)},onBlur:function(e){return n.handleValidateRangeAmount(e,!1)}})):"pool"===i&&(e=s.a.createElement("div",{className:"Select-range-pool"},f.range(1,12).map((function(e){return s.a.createElement("button",{key:e,className:"Select-range-pool-button "+(o.includes(e)?"Select-range-pool-button-selected":""),onClick:function(){return n.handleToggleRangePool(e)}},e)})))),t=u?s.a.createElement("div",{className:"Select-order-random"},[20,50,100].map((function(e){return[s.a.createElement("input",{type:"radio",value:e,checked:e===m,onChange:function(){return n.handleSelectNumberQuestions(e)}}),s.a.createElement("label",{onClick:function(){return n.handleSelectNumberQuestions(e)}},e," Questions")]}))):s.a.createElement("div",{className:"Select-order-shuffle"},s.a.createElement("input",{type:"checkbox",checked:c,onChange:this.handleToggleShuffle.bind(this)}),s.a.createElement("label",{onClick:this.handleToggleShuffle.bind(this)}," Shuffle? ")),s.a.createElement("div",{className:"Select"},s.a.createElement("div",{className:"Select-templates"},a.map((function(e,t){return s.a.createElement(x,{name:e.name,key:e.name,onStart:function(){return n.handleStartSessionTemplate(t)},onRemove:function(){return n.handleRemoveTemplate(t)}})}))),s.a.createElement("div",{className:"Select-options"},s.a.createElement("div",{className:"Select-rangetype"},s.a.createElement("select",{value:i,onChange:this.handleSelectRangeType.bind(this)},w.map((function(e){return s.a.createElement("option",{key:e,value:e},N[e])})))),e,s.a.createElement("div",{className:"Select-type"},s.a.createElement("span",null,"Type: "),s.a.createElement("select",{value:l,onChange:this.handleSelectType.bind(this)},g.map((function(e){return s.a.createElement("option",{key:e,value:e},y[e])})))),s.a.createElement("div",{className:"Select-order"},s.a.createElement("input",{type:"checkbox",checked:u,onChange:this.handleToggleRandom.bind(this)}),s.a.createElement("label",{onClick:this.handleToggleRandom.bind(this)},"Random?"),t),s.a.createElement("div",{className:"Select-submit"},s.a.createElement("button",{onClick:this.handleStartSession.bind(this)},"Start Practice"),s.a.createElement("span",{className:"link",onClick:this.handleSaveTemplate.bind(this)},"Save Settings"))))}}]),t}(s.a.Component);function x(e){return s.a.createElement("div",{className:"SessionTemplate"},s.a.createElement("button",{className:"SessionTemplate-start",onClick:e.onStart},"Start"),s.a.createElement("span",{className:"SessionTemplate-name"},e.name),s.a.createElement("button",{className:"SessionTemplate-remove",onClick:e.onRemove},"\xd7"))}n(21);var C=n(7),O=n.n(C),I=n(11),j=n(8),R=n.n(j),D={version:"v0.1.0",history:[],templates:[],settings:{showProgressBar:!1}},A={verifyData:function(e){return"object"===typeof e&&void 0!==e.version&&"v0.1.0"===e.version&&void 0!==e.history&&Array.isArray(e.history)&&void 0!==e.templates&&Array.isArray(e.templates)&&void 0!==e.settings&&"object"===typeof e.settings},serialize:function(e){var t=JSON.stringify(e);return R.a.compressToUTF16(t)},deserialize:function(e){var t=R.a.decompressFromUTF16(e),n=JSON.parse(t);if(this.verifyData(n))return n;throw Error("Could not parse data")},load:function(){var e=window.localStorage.getItem("v0.1.0");return null===e?f.clone(D):A.deserialize(e)},save:function(e){return Object(I.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=A.serialize(e),window.localStorage.setItem("v0.1.0",n);case 2:case"end":return t.stop()}}),t)})))()}},P=function(e){function t(e){var n;Object(o.a)(this,t),n=Object(u.a)(this,Object(c.a)(t).call(this,e));var a=b.generateSession(e.options);return b.startSession(a),n.state={session:a,input:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleInput",value:function(e){var t=this;if(this.state.session.progress!==this.state.session.total){var n=e.target.value,a=parseInt(n,10),s=this.state.input;s=Number.isNaN(a)?null:a,this.setState({input:s},(function(){return setTimeout((function(){var e=t.state.session;if(t.state.session.progress!==t.state.session.total&&s===e.questions[e.progress].ans){var n=e.timeStarted,a=e.times.reduce((function(e,t){return e+t}),0),i=(new Date).getTime()-n-a;if(e.times.push(i),e.progress+=1,e.progress===e.total){var r=b.generateSessionResults(e);t.props.onFinishSession(r)}else t.setState({session:e,input:null})}}),100)}))}}},{key:"render",value:function(){var e=this.props.settings,t=this.state.input,n=this.state.session,a=n.questions[n.progress];return s.a.createElement("div",{className:"Math"},s.a.createElement("div",{className:"Math-session"},s.a.createElement("div",{className:"Math-question"},s.a.createElement("div",{className:"Math-numbers"},s.a.createElement("span",null,a.num1),s.a.createElement("span",null,a.num2)),s.a.createElement("span",{className:"Math-oper"},S[a.oper])),s.a.createElement("div",{className:"Math-answer"},s.a.createElement("input",{value:null!==t&&void 0!==t?t:"",onChange:this.handleInput.bind(this),type:"number"})),e.showProgressBar?s.a.createElement("progress",{className:"Math-progress",value:n.progress,max:n.total}):null))}}]),t}(s.a.Component),Q=(n(23),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={showImport:!1,showExport:!1,importText:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleToggleShowProgressBar",value:function(){var e=this.props.settings;e.showProgressBar=!e.showProgressBar,this.props.onUpdateSettings(e)}},{key:"handleImportExportToggle",value:function(e){var t=this.state.showImport,n=this.state.showExport;e?(t=!t,n=!1):(t=!1,n=!n),this.setState({showImport:t,showExport:n})}},{key:"handleExportBlur",value:function(){this.setState({showImport:!1,showExport:!1})}},{key:"handleImportEdit",value:function(e){var t=e.target.value;this.setState({importText:t})}},{key:"handleImportSettings",value:function(e){var t=this,n=e.target.value;""!==n&&(this.props.onImportSettings(n)?this.setState({importText:"Successfully imported data!"},(function(){setTimeout((function(){t.setState({showImport:!1,showExport:!1})}),1e3)})):this.setState({importText:"Invalid input"}))}},{key:"handleImportSettingsKeypress",value:function(e){13===e.keyCode&&this.handleImportSettings(e)}},{key:"handleClearData",value:function(){window.confirm("Are you sure you want to delete all your session data?\n(This cannot be undone)")&&this.props.onImportSettings(A.serialize(D))}},{key:"render",value:function(){var e=this,t=this.props.settings,n=this.state.showImport,a=this.state.showExport,i=A.serialize(this.props.data);return s.a.createElement("div",{className:"Settings"},s.a.createElement("fieldset",{className:"Settings-fieldset"},s.a.createElement("legend",null,"Math Session"),s.a.createElement("input",{type:"checkbox",checked:t.showProgressBar,onChange:this.handleToggleShowProgressBar.bind(this)}),s.a.createElement("label",{onClick:this.handleToggleShowProgressBar.bind(this)},"Show Progress Bar")),s.a.createElement("fieldset",{className:"Settings-fieldset"},s.a.createElement("legend",null,"Import/Export"),s.a.createElement("span",{className:"link",onClick:function(){return e.handleImportExportToggle(!0)}},"Import"),s.a.createElement("span",{className:"link",onClick:function(){return e.handleImportExportToggle(!1)}},"Export"),s.a.createElement("span",{className:"link",onClick:this.handleClearData.bind(this)},"Clear Data"),s.a.createElement("br",null),a?s.a.createElement("textarea",{className:"Settings-export-box",onClick:function(e){return e.target.select()},onBlur:this.handleExportBlur.bind(this),value:i}):n?s.a.createElement("textarea",{onClick:function(e){return e.target.select()},onChange:this.handleImportEdit.bind(this),onKeyPress:this.handleImportSettingsKeypress.bind(this),onBlur:this.handleImportSettings.bind(this),className:"Settings-import-box",value:this.state.importText}):null))}}]),t}(s.a.Component)),q={filterType:function(e,t){return e.filter((function(e){return e.type===t}))},getLatestDefault:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].type===t)return e[n];return null},getHistorySorted:function(e){return e.slice().sort((function(e,t){return e.date-t.date}))},getFastest:function(e,t){for(var n=e.individual,a=[],s=0;s<n.times.length;s++)for(var i=0;i<n.times.length;i++){var r=n.times[s][i];(a.length<t||a[a.length-1].time>r)&&(a.push({question:b.generateQuestion(s+n.range.min,i+n.range.min,e.type),time:r}),a.sort((function(e,t){return e.time-t.time})),a.splice(t))}return a},getSlowest:function(e,t){for(var n=e.individual,a=[],s=0;s<n.times.length;s++)for(var i=0;i<n.times.length;i++){var r=n.times[s][i];(a.length<t||a[a.length-1].time<r)&&(a.push({question:b.generateQuestion(s+n.range.min,i+n.range.min,e.type),time:r}),a.sort((function(e,t){return t.time-e.time})),a.splice(t))}return a},getIndividualAverage:function(e,t,n,a,s){var i=q.filterType(e,t),r=0,o=0,l=!0,u=!1,c=void 0;try{for(var m,h=i[Symbol.iterator]();!(l=(m=h.next()).done);l=!0){var d=m.value;void 0!==d.individual&&(r+=1,o+=d.individual.times[n-E.min][a-E.min])}}catch(p){u=!0,c=p}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}return 0===r?null:o/r}},B=(n(24),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={history:q.getHistorySorted(e.history),view:"add"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChangeView",value:function(e){var t=e.target.value;this.setState({view:t})}},{key:"render",value:function(){var e=this.state.view,t=this.state.history;return s.a.createElement("div",{className:"StatsView"},s.a.createElement("select",{value:e,onChange:this.handleChangeView.bind(this)},g.map((function(e){return s.a.createElement("option",{key:e,value:e},y[e])}))),s.a.createElement("span",null,y[e]," Attempts: ",q.filterType(t,e).length),s.a.createElement("span",null,"Total Attempts: ",t.length),s.a.createElement(M,this.state),s.a.createElement(F,this.state),v.includes(e)?s.a.createElement(U,this.state):null)}}]),t}(s.a.Component));function M(e){var t=e.history,n=q.getLatestDefault(t,e.view),a=null===n||void 0===n.individual?null:s.a.createElement("tr",null,s.a.createElement("td",null,"Fastest Times:",s.a.createElement("ul",null,q.getFastest(n,5).map((function(e,t){return s.a.createElement("li",{key:t},e.question.num1+S[e.question.oper]+e.question.num2+" - "+f.formatSeconds(e.time))})))),s.a.createElement("td",null,"Slowest Times:",s.a.createElement("ul",null,q.getSlowest(n,5).map((function(e,t){return s.a.createElement("li",{key:t},e.question.num1+S[e.question.oper]+e.question.num2+" - "+f.formatSeconds(e.time))})))));return s.a.createElement("table",{className:"RecentStats"},s.a.createElement("caption",null,"Latest Session:"),s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Date"),s.a.createElement("td",null,"Time"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,null===n?"None":f.formatDate(n.date)),s.a.createElement("td",null,null===n?"None":f.formatSeconds(n.totalTime))),a))}function F(e){var t=e.history,n=q.filterType(t,e.view);return s.a.createElement("table",{className:"TotalStats"},s.a.createElement("caption",null,"All Sessions"),s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",null,"\xa0"),s.a.createElement("td",null,"Date"),s.a.createElement("td",null,"Total Time"),s.a.createElement("td",null,"Num Questions"))),s.a.createElement("tbody",null," ",n.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,t+1),s.a.createElement("td",null,f.formatDate(e.date)),s.a.createElement("td",null,f.formatSeconds(e.totalTime)),s.a.createElement("td",null,void 0!==e.individual?"default":e.numQuestions))}))))}function U(e){var t=e.history,n=e.view,a=f.range(E.min,E.max),i=a.map((function(e){return a.map((function(a){return q.getIndividualAverage(t,n,e,a,5)}))})),r=i.reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return t-e})),o=function(e){if(null===e)return"#777777";var t=r.indexOf(e)/r.length,n=Math.round(160*t);return"hsl(".concat(n,", 100%, 50%)")},l=a.map((function(e){return s.a.createElement("tr",null,s.a.createElement("td",{className:"IndividualStats-header"},e),a.map((function(t){return function(){var n=i[e-E.min][t-E.min];return s.a.createElement("td",{className:"IndividualStats-data",style:{backgroundColor:o(n)}},null===n?"N/A":f.formatSeconds(n))}()})))}));return s.a.createElement("table",null,s.a.createElement("caption",null,"Individual Stats (Average of 5)"),s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"IndividualStats-header"},S[n]),a.map((function(e){return s.a.createElement("td",null,e)}))),l))}var W=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={view:"home",data:A.load(),sessionOptions:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"updateData",value:function(e){this.setState({data:e}),A.save(e)}},{key:"handleNavigate",value:function(e){this.setState({view:e})}},{key:"handleStartDefaultSession",value:function(e){var t=b.generateDefaultSessionOptions(e);this.handleStartSession(t)}},{key:"handleTemplateAdd",value:function(e){var t=f.clone(this.state.data);t.templates.push(e),this.updateData(t)}},{key:"handleTemplateRemove",value:function(e){var t=f.clone(this.state.data);t.templates.splice(e,1),this.updateData(t)}},{key:"handleStartSession",value:function(e){this.setState({view:"math",sessionOptions:e})}},{key:"handleFinishSession",value:function(e){alert("Finished session in "+f.formatSeconds(e.totalTime));var t=this.state.data;t.history.push(e),this.setState({view:"stats",data:t}),this.updateData(t)}},{key:"handleUpdateSettings",value:function(e){var t=this.state.data;t.settings=e,this.updateData(t)}},{key:"handleImportData",value:function(e){try{var t=A.deserialize(e);return this.updateData(t),!0}catch(n){return!1}}},{key:"render",value:function(){var e,t=this,n=this.state.data,a=this.state.sessionOptions,i=this.state.data.settings,r="",o=!1,l=null;return"home"===this.state.view?(r="Math Practice",o=!1,e=s.a.createElement(k,{onStartPractice:this.handleStartDefaultSession.bind(this),onNavigateSelectSession:function(){return t.handleNavigate("select")},onNavigateStats:function(){return t.handleNavigate("stats")},onNavigateSettings:function(){return t.handleNavigate("settings")}})):"select"===this.state.view?(r="Custom Practice",o=!0,e=s.a.createElement(T,{sessionTemplates:n.templates,onAddSessionTemplate:this.handleTemplateAdd.bind(this),onRemoveSessionTemplate:this.handleTemplateRemove.bind(this),onStartSession:this.handleStartSession.bind(this)})):"math"===this.state.view?(r=y[a.type],o=!0,l="Are you sure you want to quit practice now?",e=s.a.createElement(P,{settings:i,options:a,onFinishSession:this.handleFinishSession.bind(this)})):"stats"===this.state.view?(r="User Statistics",o=!0,e=s.a.createElement(B,{history:n.history})):"settings"===this.state.view&&(r="Settings",o=!0,e=s.a.createElement(Q,{data:n,settings:i,onUpdateSettings:this.handleUpdateSettings.bind(this),onImportSettings:this.handleImportData.bind(this)})),s.a.createElement(h,{title:r,exitPrompt:l,onExit:function(){return t.handleNavigate("home")},showExit:o},e)}}]),t}(s.a.Component),z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(s.a.createElement(W,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/math-practice",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/math-practice","/service-worker.js");z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):V(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):V(t,e)}))}}()}],[[12,1,2]]]);
//# sourceMappingURL=main.a82a6abc.chunk.js.map