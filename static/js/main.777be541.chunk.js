(this["webpackJsonpmath-practice"]=this["webpackJsonpmath-practice"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/cross.b5d66db1.svg"},,,,,,,function(e,t,n){e.exports=n(28)},,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(11),i=n.n(r),o=n(1),l=n(2),u=n(4),c=n(3),m=n(5),h=(n(18),n(6)),d=n.n(h),p=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleExit",value:function(){var e=!0;null!==this.props.exitPrompt&&(e=window.confirm(this.props.exitPrompt)),e&&this.props.onExit()}},{key:"render",value:function(){var e=this.props.title,t=this.props.children,n=this.props.showExit;return s.a.createElement("div",{className:"AppContainer"},s.a.createElement("div",{className:"AppContainer-topbar"},s.a.createElement("span",null,e),n?s.a.createElement("button",{onClick:this.handleExit.bind(this)},s.a.createElement("img",{src:d.a,alt:"X"})):null),s.a.createElement("div",{className:"AppContainer-container"},t))}}]),t}(s.a.Component),f=n(7),v=n.n(f),g={random:function(){return Math.random()},randInt:function(e,t){return void 0===t&&(t=e,e=0),Math.floor(g.random()*(t-e))+e},randChoice:function(e){return e[g.randInt(0,e.length)]},range:function(e,t){return v.a.range(e,t+1)},clone:function(e){return v.a.cloneDeep(e)},shuffle:function(e){e=e.slice();for(var t=0;t<e.length;t++){var n=g.randInt(0,e.length),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},extend:function(e,t){return v.a.extend(e,t)},plural:function(e,t){return e+" "+t+(1===e?"":"s")},formatSeconds:function(e){return Math.round(e/100)/10+"s"},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime(),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","Februrary","March","April","May","June","July","August","September","October","November","December"],s=new Date(e),r=(t-e)/6e4,i=Math.round(r),o=Math.round(r/60),l=Math.round(r/60/24);return r<1&&r>0?"Just now":r<60?g.plural(i,"minute")+" ago":r<1440?g.plural(o,"minute")+" ago":r<4320?g.plural(l,"minute")+" ago":r<10080?"Last "+n[s.getDay()]+" ("+g.plural(l,"day")+" ago)":a[s.getMonth()]+" "+s.getDate()+"("+g.plural(l,"days")+" ago)"}},S=["add","sub","mul","div"],y=["add","sub","mul","div","mix","sqr"],E={add:"+",sub:"\u2212",mul:"\xd7",div:"\xf7"},b={add:"Addition",sub:"Subtraction",mul:"Multiplication",div:"Division",mix:"Mixed",sqr:"Squares"},k={min:1,max:12},w={generateQuestion:function(e,t,n){if("add"===n)return{num1:e,num2:t,oper:n,ans:e+t};if("sub"===n)return{num1:e+t,num2:t,oper:n,ans:e};if("mul"===n)return{num1:e,num2:t,oper:n,ans:e*t};if("div"===n)return{num1:e*t,num2:t,oper:n,ans:e};throw Error()},generateQuestionsRandom:function(e,t,n){for(var a,s,r,i=[],o=0;o<n;o++){"mix"===e?(r=g.randChoice(S),a=g.randChoice(t),s=g.randChoice(t)):"sqr"===e?(r="mul",s=a=g.randChoice(t)):(r=e,a=g.randChoice(t),s=g.randChoice(t));var l=w.generateQuestion(a,s,r);i.push(l)}return i},generateQuestionsOrdered:function(e,t){for(var n,a,s,r=[],i=0;i<t.length;i++)for(var o=0;o<t.length;o++){if("mix"===e)s=g.randChoice(S),n=t[i],a=t[o];else if("sqr"===e){if(s="mul",(n=t[i])!==(a=t[o]))continue}else s=e,n=t[i],a=t[o];var l=w.generateQuestion(n,a,s);r.push(l)}return r},generateSession:function(e){var t,n=e.type,a=[],s=e.isDefault;return t=e.useRange?g.range(e.range.min,e.range.max):g.clone(e.pool),"random"===e.order?a=w.generateQuestionsRandom(n,t,e.numQuestions):"all"===e.order?a=w.generateQuestionsOrdered(n,t):"all-shuffle"===e.order&&(a=w.generateQuestionsOrdered(n,t),a=g.shuffle(a)),{timeStarted:0,type:n,questions:a,times:[],progress:0,total:a.length,isDefault:s}},generateDefaultSessionOptions:function(e){return{type:e,useRange:!0,range:g.clone(k),order:"all-shuffle",isDefault:!0}},generateSessionResults:function(e){var t=e.timeStarted,n=e.type,a=e.times.reduce((function(e,t){return e+t}),0),s=w.generateSessionIndividualResults(e);return{date:t,type:n,totalTime:a,numQuestions:e.total,individual:s}},generateSessionIndividualResults:function(e){if(e.isDefault&&S.includes(e.type)){for(var t=e.type,n=g.clone(k),a=[],s=n.min;s<=n.max;s++){for(var r=[],i=n.min;i<=n.max;i++)r.push(0);a.push(r)}for(var o=0;o<e.questions.length;o++){var l=e.questions[o],u=e.times[o],c=void 0,m=void 0;["sub","div"].includes(l.oper)?(c=l.ans,m=l.num2):(c=l.num1,m=l.num2);var h=c-n.min,d=m-n.min;a[h][d]=u}return{oper:t,range:n,times:a}}},startSession:function(e){return e.timeStarted=(new Date).getTime(),e}},N=(n(21),{filterType:function(e,t){return e.filter((function(e){return e.type===t}))},getLatestDefault:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].type===t)return e[n];return null},getHistorySorted:function(e){return e.slice().sort((function(e,t){return e.date-t.date}))},getFastest:function(e,t){for(var n=e.individual,a=[],s=0;s<n.times.length;s++)for(var r=0;r<n.times.length;r++){var i=n.times[s][r];(a.length<t||a[a.length-1].time>i)&&(a.push({question:w.generateQuestion(s+n.range.min,r+n.range.min,e.type),time:i}),a.sort((function(e,t){return e.time-t.time})),a.splice(t))}return a},getSlowest:function(e,t){for(var n=e.individual,a=[],s=0;s<n.times.length;s++)for(var r=0;r<n.times.length;r++){var i=n.times[s][r];(a.length<t||a[a.length-1].time<i)&&(a.push({question:w.generateQuestion(s+n.range.min,r+n.range.min,e.type),time:i}),a.sort((function(e,t){return t.time-e.time})),a.splice(t))}return a},getIndividualAverage:function(e,t,n,a,s){var r=N.filterType(e,t),i=0,o=0,l=!0,u=!1,c=void 0;try{for(var m,h=r[Symbol.iterator]();!(l=(m=h.next()).done);l=!0){var d=m.value;void 0!==d.individual&&(i+=1,o+=d.individual.times[n-k.min][a-k.min])}}catch(p){u=!0,c=p}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}return 0===i?null:o/i}}),T=function(e){function t(e){var n;Object(o.a)(this,t),n=Object(u.a)(this,Object(c.a)(t).call(this,e));var a,s=N.getHistorySorted(e.history);return a=0===s.length?"add":s[s.length-1].type,n.state={sessionType:a},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleStartClick",value:function(){this.props.onStartPractice(this.state.sessionType)}},{key:"handleNavigate",value:function(e){"select"===e?this.props.onNavigateSelectSession():"stats"===e?this.props.onNavigateStats():this.props.onNavigateSettings()}},{key:"handleSelectType",value:function(e){var t=e.target.value;this.setState({sessionType:t})}},{key:"render",value:function(){var e=this,t=this.state.sessionType;return s.a.createElement("div",{className:"Home"},s.a.createElement("button",{className:"Home-start",onClick:this.handleStartClick.bind(this)},"Start",s.a.createElement("br",null),"Practice"),s.a.createElement("select",{className:"Home-start-type",value:t,onChange:this.handleSelectType.bind(this)},y.map((function(e){return s.a.createElement("option",{value:e,key:e},b[e])}))),s.a.createElement("span",{className:"link",onClick:function(){return e.handleNavigate("select")}},"Custom Session"),s.a.createElement("span",{className:"link",onClick:function(){return e.handleNavigate("stats")}},"User Stats"),s.a.createElement("span",{className:"link",onClick:function(){return e.handleNavigate("settings")}},"Settings"))}}]),t}(s.a.Component),x=(n(22),["range","pool"]),C={range:"Range",pool:"Pool"},O=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={rangeType:"range",range:{min:1,max:12},pool:g.range(1,12),type:"add",shuffle:!0,random:!1,numberQuestions:20},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleStartSession",value:function(){this.props.onStartSession({type:this.state.type,useRange:"range"===this.state.rangeType,range:this.state.range,pool:this.state.pool,order:this.state.random?"random":this.state.shuffle?"all-shuffle":"all",numQuestions:this.state.numberQuestions,isDefault:!1})}},{key:"handleStartSessionTemplate",value:function(e){var t=this.props.sessionTemplates[e];this.props.onStartSession(t.options)}},{key:"handleSaveTemplate",value:function(){var e={type:this.state.type,useRange:"range"===this.state.rangeType,range:this.state.range,pool:this.state.pool,order:this.state.random?"random":this.state.shuffle?"all-shuffle":"all",numQuestions:this.state.numberQuestions,isDefault:!1},t=window.prompt("Please enter a name for your session:");null!==t&&this.props.onAddSessionTemplate({options:e,name:t})}},{key:"handleRemoveTemplate",value:function(e){this.props.onRemoveSessionTemplate(e)}},{key:"handleSelectRangeType",value:function(e){var t=e.target.value;this.setState({rangeType:t})}},{key:"handleInputRangeAmount",value:function(e,t){var n=parseInt(e.target.value,10);n<0&&(n=1);var a=g.clone(this.state.range);t?a.min=n:a.max=n,this.setState({range:a})}},{key:"handleValidateRangeAmount",value:function(e,t){var n=parseInt(e.target.value,10);Number.isNaN(n)&&(n=NaN),n=Math.min(Math.max(n,1),1e3);var a=g.clone(this.state.range);t?(a.min=n,a.max<a.min&&(a.max=a.min)):(a.max=n,a.min>a.max&&(a.min=a.max)),this.setState({range:a})}},{key:"handleToggleRangePool",value:function(e){var t=this.state.pool,n=t.indexOf(e);-1===n?t.push(e):t.splice(n,1),this.setState({pool:t})}},{key:"handleSelectType",value:function(e){var t=e.target.value;this.setState({type:t})}},{key:"handleToggleShuffle",value:function(){this.setState({shuffle:!this.state.shuffle})}},{key:"handleToggleRandom",value:function(){this.setState({random:!this.state.random})}},{key:"handleSelectNumberQuestions",value:function(e){this.setState({numberQuestions:e})}},{key:"render",value:function(){var e,t,n=this,a=this.props.sessionTemplates,r=this.state.rangeType,i=this.state.range,o=this.state.pool,l=this.state.type,u=this.state.random,c=this.state.shuffle,m=this.state.numberQuestions;return"range"===r?e=s.a.createElement("div",{className:"Select-range-range"},s.a.createElement("input",{type:"number",pattern:"[0-9]*",min:1,value:Number.isNaN(i.min)?"":i.min,onChange:function(e){return n.handleInputRangeAmount(e,!0)},onBlur:function(e){return n.handleValidateRangeAmount(e,!0)}}),s.a.createElement("input",{type:"number",pattern:"[0-9]*",min:1,value:Number.isNaN(i.max)?"":i.max,onChange:function(e){return n.handleInputRangeAmount(e,!1)},onBlur:function(e){return n.handleValidateRangeAmount(e,!1)}})):"pool"===r&&(e=s.a.createElement("div",{className:"Select-range-pool"},g.range(1,20).map((function(e){return s.a.createElement("button",{key:e,className:"Select-range-pool-button "+(o.includes(e)?"Select-range-pool-button-selected":""),onClick:function(){return n.handleToggleRangePool(e)}},e)})))),t=u?s.a.createElement("div",{className:"Select-order-random"},[20,50,100].map((function(e){return[s.a.createElement("input",{type:"radio",value:e,checked:e===m,onChange:function(){return n.handleSelectNumberQuestions(e)}}),s.a.createElement("label",{onClick:function(){return n.handleSelectNumberQuestions(e)}},e," Questions"),s.a.createElement("br",null)]}))):s.a.createElement("div",{className:"Select-order-shuffle"},s.a.createElement("input",{type:"checkbox",checked:c,onChange:this.handleToggleShuffle.bind(this)}),s.a.createElement("label",{onClick:this.handleToggleShuffle.bind(this)},"Shuffle?")),s.a.createElement("div",{className:"Select"},s.a.createElement("div",{className:"Select-templates"},a.map((function(e,t){return s.a.createElement(I,{name:e.name,key:e.name,onStart:function(){return n.handleStartSessionTemplate(t)},onRemove:function(){return n.handleRemoveTemplate(t)}})}))),s.a.createElement("div",{className:"Select-options"},s.a.createElement("div",{className:"Select-rangetype"},s.a.createElement("select",{value:r,onChange:this.handleSelectRangeType.bind(this)},x.map((function(e){return s.a.createElement("option",{key:e,value:e},C[e])})))),e,s.a.createElement("div",{className:"Select-type"},s.a.createElement("span",null,"Type: "),s.a.createElement("select",{value:l,onChange:this.handleSelectType.bind(this)},y.map((function(e){return s.a.createElement("option",{key:e,value:e},b[e])})))),s.a.createElement("div",{className:"Select-order"},s.a.createElement("input",{type:"checkbox",checked:u,onChange:this.handleToggleRandom.bind(this)}),s.a.createElement("label",{onClick:this.handleToggleRandom.bind(this)},"Random?")),t,s.a.createElement("div",{className:"Select-submit"},s.a.createElement("button",{onClick:this.handleStartSession.bind(this)},"Start Practice"),s.a.createElement("span",{className:"link",onClick:this.handleSaveTemplate.bind(this)},"Save Settings"))))}}]),t}(s.a.Component);function I(e){return s.a.createElement("div",{className:"SessionTemplate"},s.a.createElement("button",{className:"SessionTemplate-start",onClick:e.onStart},"Start"),s.a.createElement("span",{className:"SessionTemplate-name"},e.name),s.a.createElement("button",{className:"SessionTemplate-remove",onClick:e.onRemove},s.a.createElement("img",{src:d.a,alt:"X"})))}n(23);var j=n(8),D=n.n(j),R=n(12),A=n(9),M=n.n(A),P={version:"v0.1.0",history:[],templates:[],settings:{showProgressBar:!1}},Q={verifyData:function(e){return"object"===typeof e&&void 0!==e.version&&"v0.1.0"===e.version&&void 0!==e.history&&Array.isArray(e.history)&&void 0!==e.templates&&Array.isArray(e.templates)&&void 0!==e.settings&&"object"===typeof e.settings},serialize:function(e){var t=JSON.stringify(e);return M.a.compressToUTF16(t)},deserialize:function(e){var t=M.a.decompressFromUTF16(e),n=JSON.parse(t);if(this.verifyData(n))return n;throw Error("Could not parse data")},load:function(){var e=window.localStorage.getItem("v0.1.0");return null===e?g.clone(P):Q.deserialize(e)},save:function(e){return Object(R.a)(D.a.mark((function t(){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Q.serialize(e),window.localStorage.setItem("v0.1.0",n);case 2:case"end":return t.stop()}}),t)})))()}},q=(n(25),function(e){function t(e){var n;Object(o.a)(this,t),n=Object(u.a)(this,Object(c.a)(t).call(this,e));var a=w.generateSession(e.options);return w.startSession(a),n.state={session:a,input:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleInput",value:function(e){var t=this;if(this.state.session.progress!==this.state.session.total){var n=e.target.value,a=parseInt(n,10),s=this.state.input;s=Number.isNaN(a)?null:a,this.setState({input:s},(function(){return setTimeout((function(){var e=t.state.session;if(t.state.session.progress!==t.state.session.total&&s===e.questions[e.progress].ans){var n=e.timeStarted,a=e.times.reduce((function(e,t){return e+t}),0),r=(new Date).getTime()-n-a;if(r=Math.min(r,9900),e.times.push(r),e.progress+=1,e.progress===e.total){var i=w.generateSessionResults(e);t.props.onFinishSession(i)}else t.setState({session:e,input:null})}}),100)}))}}},{key:"render",value:function(){var e=this.props.settings,t=this.state.input,n=this.state.session,a=n.questions[n.progress];return s.a.createElement("div",{className:"Math"},s.a.createElement("div",{className:"Math-session"},s.a.createElement("div",{className:"Math-question"},s.a.createElement("span",{className:"Math-oper"},E[a.oper]),s.a.createElement("div",{className:"Math-numbers"},s.a.createElement("span",null,a.num1),s.a.createElement("span",null,a.num2))),s.a.createElement("div",{className:"Math-answer"},s.a.createElement("input",{autoFocus:!0,placeholder:"?",maxLength:3,size:3,value:null!==t&&void 0!==t?t:"",onChange:this.handleInput.bind(this),type:"number"}))),e.showProgressBar?s.a.createElement("div",{className:"Math-progress"},s.a.createElement("div",{style:{width:n.progress/n.total*100+"%"}})):null)}}]),t}(s.a.Component)),B=(n(26),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={showImport:!1,showExport:!1,importText:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleToggleShowProgressBar",value:function(){var e=this.props.settings;e.showProgressBar=!e.showProgressBar,this.props.onUpdateSettings(e)}},{key:"handleImportExportToggle",value:function(e){var t=this.state.showImport,n=this.state.showExport;e?(t=!t,n=!1):(t=!1,n=!n),this.setState({showImport:t,showExport:n})}},{key:"handleExportBlur",value:function(){this.setState({showImport:!1,showExport:!1})}},{key:"handleImportEdit",value:function(e){var t=e.target.value;this.setState({importText:t})}},{key:"handleImportSettings",value:function(e){var t=this,n=e.target.value;""!==n&&(this.props.onImportSettings(n)?this.setState({importText:"Successfully imported data!"},(function(){setTimeout((function(){t.setState({showImport:!1,showExport:!1})}),5e3)})):this.setState({importText:"Invalid input"}))}},{key:"handleImportSettingsKeypress",value:function(e){13===e.keyCode&&this.handleImportSettings(e)}},{key:"handleClearData",value:function(){window.confirm("Are you sure you want to delete all your session data?\n(This cannot be undone)")&&this.props.onImportSettings(Q.serialize(P))}},{key:"handleAboutClick",value:function(){alert("Math Practice was coded by MrSiliconGuy\nwith the React.js framework")}},{key:"render",value:function(){var e=this,t=this.props.settings,n=this.state.showImport,a=this.state.showExport,r=Q.serialize(this.props.data);return s.a.createElement("div",{className:"Settings"},s.a.createElement("fieldset",{className:"Settings-fieldset"},s.a.createElement("legend",null,"Math Session"),s.a.createElement("input",{type:"checkbox",checked:t.showProgressBar,onChange:this.handleToggleShowProgressBar.bind(this)}),s.a.createElement("label",{onClick:this.handleToggleShowProgressBar.bind(this)},"Show Progress Bar")),s.a.createElement("fieldset",{className:"Settings-fieldset"},s.a.createElement("legend",null,"Import/Export"),s.a.createElement("span",{className:"link",onClick:function(){return e.handleImportExportToggle(!0)}},"Import"),s.a.createElement("span",{className:"link",onClick:function(){return e.handleImportExportToggle(!1)}},"Export"),s.a.createElement("span",{className:"link",onClick:this.handleClearData.bind(this)},"Clear Data"),s.a.createElement("br",null),a?s.a.createElement("textarea",{readOnly:!0,cols:25,rows:4,className:"Settings-import-export-box",onClick:function(e){return e.target.select()},onBlur:this.handleExportBlur.bind(this),value:r}):n?s.a.createElement("textarea",{cols:25,rows:4,onClick:function(e){return e.target.select()},onChange:this.handleImportEdit.bind(this),onKeyPress:this.handleImportSettingsKeypress.bind(this),onBlur:this.handleImportSettings.bind(this),className:"Settings-import-export-box",value:this.state.importText}):null),s.a.createElement("fieldset",{className:"Settings-fieldset"},s.a.createElement("legend",null,"Other"),s.a.createElement("span",{className:"link",onClick:this.handleAboutClick.bind(this)},"About"),s.a.createElement("a",{className:"link",target:"_blank",rel:"noopener noreferrer",href:"https://www.github.com/mrsiliconguy/math-practice"},"GitHub")))}}]),t}(s.a.Component)),F=(n(27),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={history:N.getHistorySorted(e.history),view:"add"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChangeView",value:function(e){var t=e.target.value;this.setState({view:t})}},{key:"render",value:function(){var e=this.state.view,t=this.state.history;return s.a.createElement("div",{className:"StatsView"},s.a.createElement("select",{value:e,onChange:this.handleChangeView.bind(this)},y.map((function(e){return s.a.createElement("option",{key:e,value:e},b[e])}))),s.a.createElement("span",null,b[e]," Attempts: ",N.filterType(t,e).length),s.a.createElement("span",null,"Total Attempts: ",t.length),s.a.createElement("div",{className:"StatsView-tables"},s.a.createElement(U,this.state),s.a.createElement(W,this.state),S.includes(e)?s.a.createElement(z,this.state):null))}}]),t}(s.a.Component));function U(e){var t=e.history,n=N.getLatestDefault(t,e.view),a=null===n||void 0===n.individual?null:s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("b",null,"Fastest Times:"),s.a.createElement("ul",null,N.getFastest(n,5).map((function(e,t){return s.a.createElement("li",{key:t},e.question.num1+E[e.question.oper]+e.question.num2+" - "+g.formatSeconds(e.time))})))),s.a.createElement("td",null,s.a.createElement("b",null,"Slowest Times:"),s.a.createElement("ul",null,N.getSlowest(n,5).map((function(e,t){return s.a.createElement("li",{key:t},e.question.num1+E[e.question.oper]+e.question.num2+" - "+g.formatSeconds(e.time))})))));return s.a.createElement("table",{className:"RecentStats"},s.a.createElement("caption",null,"Latest Session:"),s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Time"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,null===n?"None":g.formatDate(n.date)),s.a.createElement("td",null,null===n?"None":g.formatSeconds(n.totalTime))),a))}function W(e){var t=e.history,n=N.filterType(t,e.view);return s.a.createElement("table",{className:"TotalStats"},s.a.createElement("caption",null,"All Sessions"),s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"\xa0"),s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Time"),s.a.createElement("th",null,"Questions"))),s.a.createElement("tbody",null," ",n.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,t+1,")"),s.a.createElement("td",null,g.formatDate(e.date)),s.a.createElement("td",null,g.formatSeconds(e.totalTime)),s.a.createElement("td",null,void 0!==e.individual?"default":e.numQuestions))}))))}function z(e){var t=e.history,n=e.view,a=g.range(k.min,k.max),r=a.map((function(e){return a.map((function(a){return N.getIndividualAverage(t,n,e,a,5)}))})),i=r.reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return t-e})),o=function(e){if(null===e)return"#777777";var t=i.indexOf(e)/i.length,n=Math.round(160*t);return"hsl(".concat(n,", 100%, 50%)")},l=a.map((function(e){return s.a.createElement("tr",null,s.a.createElement("th",{className:"IndividualStats-header"},e),a.map((function(t){return function(){var n=r[e-k.min][t-k.min];return s.a.createElement("td",{className:"IndividualStats-data",style:{backgroundColor:o(n)}},null===n?"N/A":(n/1e3).toFixed(1))}()})))}));return s.a.createElement("table",{className:"IndividualStats"},s.a.createElement("caption",null,"Individual Stats (Average of 5)"),s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,E[n]),a.map((function(e){return s.a.createElement("th",null,e)}))),l))}var J=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={view:"home",data:Q.load(),sessionOptions:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"updateData",value:function(e){this.setState({data:e}),Q.save(e)}},{key:"handleNavigate",value:function(e){this.setState({view:e})}},{key:"handleStartDefaultSession",value:function(e){var t=w.generateDefaultSessionOptions(e);this.handleStartSession(t)}},{key:"handleTemplateAdd",value:function(e){var t=g.clone(this.state.data);t.templates.push(e),this.updateData(t)}},{key:"handleTemplateRemove",value:function(e){var t=g.clone(this.state.data);t.templates.splice(e,1),this.updateData(t)}},{key:"handleStartSession",value:function(e){this.setState({view:"math",sessionOptions:e})}},{key:"handleFinishSession",value:function(e){alert("Finished session in "+g.formatSeconds(e.totalTime));var t=this.state.data;t.history.push(e),this.setState({view:"stats",data:t}),this.updateData(t)}},{key:"handleUpdateSettings",value:function(e){var t=this.state.data;t.settings=e,this.updateData(t)}},{key:"handleImportData",value:function(e){try{var t=Q.deserialize(e);return this.updateData(t),!0}catch(n){return!1}}},{key:"render",value:function(){var e,t=this,n=this.state.data,a=this.state.sessionOptions,r=this.state.data.settings,i="",o=!1,l=null;return"home"===this.state.view?(i="Math Practice",o=!1,e=s.a.createElement(T,{history:n.history,onStartPractice:this.handleStartDefaultSession.bind(this),onNavigateSelectSession:function(){return t.handleNavigate("select")},onNavigateStats:function(){return t.handleNavigate("stats")},onNavigateSettings:function(){return t.handleNavigate("settings")}})):"select"===this.state.view?(i="Custom Practice",o=!0,e=s.a.createElement(O,{sessionTemplates:n.templates,onAddSessionTemplate:this.handleTemplateAdd.bind(this),onRemoveSessionTemplate:this.handleTemplateRemove.bind(this),onStartSession:this.handleStartSession.bind(this)})):"math"===this.state.view?(i=b[a.type],o=!0,l="Are you sure you want to quit practice now?",e=s.a.createElement(q,{settings:r,options:a,onFinishSession:this.handleFinishSession.bind(this)})):"stats"===this.state.view?(i="User Statistics",o=!0,e=s.a.createElement(F,{history:n.history})):"settings"===this.state.view&&(i="Settings",o=!0,e=s.a.createElement(B,{data:n,settings:r,onUpdateSettings:this.handleUpdateSettings.bind(this),onImportSettings:this.handleImportData.bind(this)})),s.a.createElement(p,{title:i,exitPrompt:l,onExit:function(){return t.handleNavigate("home")},showExit:o},e)}}]),t}(s.a.Component),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(s.a.createElement(J,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/math-practice",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/math-practice","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):L(t,e)}))}}()}],[[13,1,2]]]);
//# sourceMappingURL=main.777be541.chunk.js.map